{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexshle/Desktop/Alex/Python/my_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alexshle/Desktop/Alex/Python/my_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useContext}from\"react\";import{ItemsContext,UserContext}from\"./Context\";import Button from\"@mui/material/Button\";import RestartAltIcon from\"@mui/icons-material/RestartAlt\";import SendIcon from\"@mui/icons-material/Send\";import{useNavigate}from\"react-router-dom\";import{Container}from\"./Styles/Buttons.styled\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Buttons=function Buttons(props){var _useContext=useContext(ItemsContext),setWhoWork=_useContext.setWhoWork;var _useContext2=useContext(UserContext),userToken=_useContext2.userToken,setUserToken=_useContext2.setUserToken;var navigate=useNavigate();var onClickHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://127.0.0.1:5000/main\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+userToken}});case 2:response=_context.sent;if(!(response.status===401)){_context.next=9;break;}console.log(\"session expired -> redirect\");setUserToken();navigate(\"/\");_context.next=13;break;case 9:_context.next=11;return response.json();case 11:data=_context.sent;setWhoWork(data[0]);case 13:case\"end\":return _context.stop();}}},_callee);}));return function onClickHandler(){return _ref.apply(this,arguments);};}();var onClickHandlerSlack=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://hooks.slack.com/services/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\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:JSON.stringify({\"text\":props.data})});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function onClickHandlerSlack(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{mt:\"15px\",ml:\"70px\",height:45,width:170,fontSize:23},startIcon:/*#__PURE__*/_jsx(RestartAltIcon,{}),onClick:onClickHandler,children:\"Reset\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{mt:\"15px\",ml:\"50px\",height:45,width:300,fontSize:23},startIcon:/*#__PURE__*/_jsx(SendIcon,{}),onClick:onClickHandlerSlack,children:\"Send to Slack\"})]});};export default Buttons;","map":{"version":3,"names":["useContext","ItemsContext","UserContext","Button","RestartAltIcon","SendIcon","useNavigate","Container","Buttons","props","setWhoWork","userToken","setUserToken","navigate","onClickHandler","fetch","method","headers","Authorization","response","status","console","log","json","data","onClickHandlerSlack","body","JSON","stringify","mt","ml","height","width","fontSize"],"sources":["/Users/alexshle/Desktop/Alex/Python/my_app/src/Components/Buttons.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { ItemsContext, UserContext } from \"./Context\";\nimport Button from \"@mui/material/Button\";\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container } from \"./Styles/Buttons.styled\";\n\nconst Buttons = (props) => {\n  const { setWhoWork } = useContext(ItemsContext);\n  const { userToken, setUserToken } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  const onClickHandler = async () => {\n    const response = await fetch(\"http://127.0.0.1:5000/main\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + userToken,\n      },\n    });\n    if (response.status === 401) {\n      console.log(\"session expired -> redirect\");\n      setUserToken();\n      navigate(\"/\");\n    } else {\n      const data = await response.json();\n      setWhoWork(data[0]);\n    }\n  };\n\n  const onClickHandlerSlack = async () => {\n    await fetch(\n      \"https://hooks.slack.com/services/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\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: JSON.stringify({\"text\": props.data})\n      }\n    );\n  };\n  return (\n    <Container>\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        sx={{ mt: \"15px\", ml: \"70px\", height: 45, width: 170, fontSize: 23 }}\n        startIcon={<RestartAltIcon />}\n        onClick={onClickHandler}\n      >\n        Reset\n      </Button>\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        sx={{ mt: \"15px\", ml: \"50px\", height: 45, width: 300, fontSize: 23 }}\n        startIcon={<SendIcon />}\n        onClick={onClickHandlerSlack}\n      >\n        Send to Slack\n      </Button>\n    </Container>\n  );\n};\n\nexport default Buttons;\n"],"mappings":"gRAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,YAAT,CAAuBC,WAAvB,KAA0C,WAA1C,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,eAAP,KAA2B,gCAA3B,CACA,MAAOC,SAAP,KAAqB,0BAArB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,SAAT,KAA0B,yBAA1B,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAW,CACzB,gBAAuBT,UAAU,CAACC,YAAD,CAAjC,CAAQS,UAAR,aAAQA,UAAR,CACA,iBAAoCV,UAAU,CAACE,WAAD,CAA9C,CAAQS,SAAR,cAAQA,SAAR,CAAmBC,YAAnB,cAAmBA,YAAnB,CACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,eAAc,4FAAG,6KACEC,MAAK,CAAC,4BAAD,CAA+B,CACzDC,MAAM,CAAE,KADiD,CAEzDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYP,SAFpB,CAFgD,CAA/B,CADP,QACfQ,QADe,oBAQjBA,QAAQ,CAACC,MAAT,GAAoB,GARH,0BASnBC,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACAV,YAAY,GACZC,QAAQ,CAAC,GAAD,CAAR,CAXmB,qDAaAM,SAAQ,CAACI,IAAT,EAbA,SAabC,IAba,eAcnBd,UAAU,CAACc,IAAI,CAAC,CAAD,CAAL,CAAV,CAdmB,uDAAH,kBAAdV,eAAc,0CAApB,CAkBA,GAAMW,oBAAmB,6FAAG,iKACpBV,MAAK,CACT,iFADS,CAET,CACEC,MAAM,CAAE,MADV,CAEEC,OAAO,CAAE,CACP,eAAgB,mCADT,CAFX,CAKES,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAC,OAAQnB,KAAK,CAACe,IAAf,CAAf,CALR,CAFS,CADe,yDAAH,kBAAnBC,oBAAmB,2CAAzB,CAYA,mBACE,MAAC,SAAD,yBACE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAE,CAAEI,EAAE,CAAE,MAAN,CAAcC,EAAE,CAAE,MAAlB,CAA0BC,MAAM,CAAE,EAAlC,CAAsCC,KAAK,CAAE,GAA7C,CAAkDC,QAAQ,CAAE,EAA5D,CAHN,CAIE,SAAS,cAAE,KAAC,cAAD,IAJb,CAKE,OAAO,CAAEnB,cALX,mBADF,cAUE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAE,CAAEe,EAAE,CAAE,MAAN,CAAcC,EAAE,CAAE,MAAlB,CAA0BC,MAAM,CAAE,EAAlC,CAAsCC,KAAK,CAAE,GAA7C,CAAkDC,QAAQ,CAAE,EAA5D,CAHN,CAIE,SAAS,cAAE,KAAC,QAAD,IAJb,CAKE,OAAO,CAAER,mBALX,2BAVF,GADF,CAsBD,CAzDD,CA2DA,cAAejB,QAAf"},"metadata":{},"sourceType":"module"}