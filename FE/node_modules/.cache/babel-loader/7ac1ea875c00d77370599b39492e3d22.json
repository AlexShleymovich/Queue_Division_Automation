{"ast":null,"code":"var _jsxFileName = \"/Users/alexshle/Desktop/Alex/Python/my_app_test/src/Components/Buttons.js\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { ItemsContext, UserContext } from \"./Context\";\nimport Button from \"@mui/material/Button\";\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container } from \"./Styles/Buttons.styled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Buttons = props => {\n  _s();\n\n  const {\n    setWhoWork\n  } = useContext(ItemsContext);\n  const {\n    userToken,\n    setUserToken\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  const onClickHandler = async () => {\n    const response = await fetch(\"http://127.0.0.1:5000/main\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + userToken\n      }\n    });\n\n    if (response.status === 401) {\n      console.log(\"session expired -> redirect\");\n      setUserToken();\n      navigate(\"/\");\n    } else {\n      const data = await response.json();\n      setWhoWork(data[0]);\n    }\n  };\n\n  const onClickHandlerSlack = async () => {\n    const response = await fetch(\"https://hooks.slack.com/services/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\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: JSON.stringify(props.data)\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      size: \"large\",\n      sx: {\n        mt: \"15px\",\n        ml: \"70px\",\n        height: 45,\n        width: 170,\n        fontSize: 23\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(RestartAltIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 20\n      }, this),\n      onClick: onClickHandler,\n      children: \"Reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      size: \"large\",\n      sx: {\n        mt: \"15px\",\n        ml: \"50px\",\n        height: 45,\n        width: 300,\n        fontSize: 23\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 20\n      }, this),\n      onClick: onClickHandlerSlack,\n      children: \"Send to Slack\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Buttons, \"0pWcMwhOup9++C5blTbzoppfwDc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Buttons;\nexport default Buttons;\n\nvar _c;\n\n$RefreshReg$(_c, \"Buttons\");","map":{"version":3,"names":["useContext","ItemsContext","UserContext","Button","RestartAltIcon","SendIcon","useNavigate","Container","Buttons","props","setWhoWork","userToken","setUserToken","navigate","onClickHandler","response","fetch","method","headers","Authorization","status","console","log","data","json","onClickHandlerSlack","body","JSON","stringify","mt","ml","height","width","fontSize"],"sources":["/Users/alexshle/Desktop/Alex/Python/my_app_test/src/Components/Buttons.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { ItemsContext, UserContext } from \"./Context\";\nimport Button from \"@mui/material/Button\";\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container } from \"./Styles/Buttons.styled\";\n\nconst Buttons = (props) => {\n  const { setWhoWork } = useContext(ItemsContext);\n  const { userToken, setUserToken } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  const onClickHandler = async () => {\n    const response = await fetch(\"http://127.0.0.1:5000/main\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + userToken,\n      },\n    });\n    if (response.status === 401) {\n      console.log(\"session expired -> redirect\");\n      setUserToken();\n      navigate(\"/\");\n    } else {\n      const data = await response.json();\n      setWhoWork(data[0]);\n    }\n  };\n\n  const onClickHandlerSlack = async () => {\n    const response = await fetch(\n      \"https://hooks.slack.com/services/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\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: JSON.stringify(props.data)\n      }\n    );\n  };\n  return (\n    <Container>\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        sx={{ mt: \"15px\", ml: \"70px\", height: 45, width: 170, fontSize: 23 }}\n        startIcon={<RestartAltIcon />}\n        onClick={onClickHandler}\n      >\n        Reset\n      </Button>\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        sx={{ mt: \"15px\", ml: \"50px\", height: 45, width: 300, fontSize: 23 }}\n        startIcon={<SendIcon />}\n        onClick={onClickHandlerSlack}\n      >\n        Send to Slack\n      </Button>\n    </Container>\n  );\n};\n\nexport default Buttons;\n"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,WAA1C;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,QAA0B,yBAA1B;;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;EAAA;;EACzB,MAAM;IAAEC;EAAF,IAAiBV,UAAU,CAACC,YAAD,CAAjC;EACA,MAAM;IAAEU,SAAF;IAAaC;EAAb,IAA8BZ,UAAU,CAACE,WAAD,CAA9C;EACA,MAAMW,QAAQ,GAAGP,WAAW,EAA5B;;EAEA,MAAMQ,cAAc,GAAG,YAAY;IACjC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAAD,EAA+B;MACzDC,MAAM,EAAE,KADiD;MAEzDC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAE,YAAYR;MAFpB;IAFgD,CAA/B,CAA5B;;IAOA,IAAII,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;MAC3BC,OAAO,CAACC,GAAR,CAAY,6BAAZ;MACAV,YAAY;MACZC,QAAQ,CAAC,GAAD,CAAR;IACD,CAJD,MAIO;MACL,MAAMU,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAT,EAAnB;MACAd,UAAU,CAACa,IAAI,CAAC,CAAD,CAAL,CAAV;IACD;EACF,CAhBD;;EAkBA,MAAME,mBAAmB,GAAG,YAAY;IACtC,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAC1B,iFAD0B,EAE1B;MACEC,MAAM,EAAE,MADV;MAEEC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFX;MAKEQ,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAenB,KAAK,CAACc,IAArB;IALR,CAF0B,CAA5B;EAUD,CAXD;;EAYA,oBACE,QAAC,SAAD;IAAA,wBACE,QAAC,MAAD;MACE,OAAO,EAAC,WADV;MAEE,IAAI,EAAC,OAFP;MAGE,EAAE,EAAE;QAAEM,EAAE,EAAE,MAAN;QAAcC,EAAE,EAAE,MAAlB;QAA0BC,MAAM,EAAE,EAAlC;QAAsCC,KAAK,EAAE,GAA7C;QAAkDC,QAAQ,EAAE;MAA5D,CAHN;MAIE,SAAS,eAAE,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA,QAJb;MAKE,OAAO,EAAEnB,cALX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAUE,QAAC,MAAD;MACE,OAAO,EAAC,WADV;MAEE,IAAI,EAAC,OAFP;MAGE,EAAE,EAAE;QAAEe,EAAE,EAAE,MAAN;QAAcC,EAAE,EAAE,MAAlB;QAA0BC,MAAM,EAAE,EAAlC;QAAsCC,KAAK,EAAE,GAA7C;QAAkDC,QAAQ,EAAE;MAA5D,CAHN;MAIE,SAAS,eAAE,QAAC,QAAD;QAAA;QAAA;QAAA;MAAA,QAJb;MAKE,OAAO,EAAER,mBALX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAVF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD,CAzDD;;GAAMjB,O;UAGaF,W;;;KAHbE,O;AA2DN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}